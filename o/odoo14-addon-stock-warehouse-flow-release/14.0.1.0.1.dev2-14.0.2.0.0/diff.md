# Comparing `tmp/odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2-py3-none-any.whl.zip` & `tmp/odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,18 +1,18 @@
-Zip file size: 22894 bytes, number of entries: 16
--rw-r--r--  2.0 unx     3121 b- defN 22-Oct-07 09:10 odoo/addons/stock_warehouse_flow_release/README.rst
--rw-r--r--  2.0 unx       21 b- defN 22-Oct-07 09:10 odoo/addons/stock_warehouse_flow_release/__init__.py
--rw-r--r--  2.0 unx      653 b- defN 22-Oct-07 09:10 odoo/addons/stock_warehouse_flow_release/__manifest__.py
--rw-r--r--  2.0 unx     1024 b- defN 22-Oct-07 09:10 odoo/addons/stock_warehouse_flow_release/i18n/stock_warehouse_flow_release.pot
--rw-r--r--  2.0 unx       25 b- defN 22-Oct-07 09:10 odoo/addons/stock_warehouse_flow_release/models/__init__.py
--rw-r--r--  2.0 unx      765 b- defN 22-Oct-07 09:10 odoo/addons/stock_warehouse_flow_release/models/stock_move.py
--rw-r--r--  2.0 unx       89 b- defN 22-Oct-07 09:10 odoo/addons/stock_warehouse_flow_release/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      174 b- defN 22-Oct-07 09:10 odoo/addons/stock_warehouse_flow_release/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx     9455 b- defN 22-Oct-07 09:10 odoo/addons/stock_warehouse_flow_release/static/description/icon.png
--rw-r--r--  2.0 unx    12472 b- defN 22-Oct-07 09:10 odoo/addons/stock_warehouse_flow_release/static/description/index.html
--rw-r--r--  2.0 unx       42 b- defN 22-Oct-07 09:10 odoo/addons/stock_warehouse_flow_release/tests/__init__.py
--rw-r--r--  2.0 unx     2540 b- defN 22-Oct-07 09:10 odoo/addons/stock_warehouse_flow_release/tests/test_warehouse_flow_release.py
--rw-r--r--  2.0 unx     3855 b- defN 22-Oct-07 09:10 odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 22-Oct-07 09:10 odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 22-Oct-07 09:10 odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     1904 b- defN 22-Oct-07 09:10 odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2.dist-info/RECORD
-16 files, 36237 bytes uncompressed, 19534 bytes compressed:  46.1%
+Zip file size: 23300 bytes, number of entries: 16
+-rw-r--r--  2.0 unx     3175 b- defN 23-Jul-24 15:19 odoo/addons/stock_warehouse_flow_release/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-Jul-24 15:19 odoo/addons/stock_warehouse_flow_release/__init__.py
+-rw-r--r--  2.0 unx      653 b- defN 23-Jul-24 15:19 odoo/addons/stock_warehouse_flow_release/__manifest__.py
+-rw-r--r--  2.0 unx     1024 b- defN 23-Jul-24 15:19 odoo/addons/stock_warehouse_flow_release/i18n/stock_warehouse_flow_release.pot
+-rw-r--r--  2.0 unx       25 b- defN 23-Jul-24 15:19 odoo/addons/stock_warehouse_flow_release/models/__init__.py
+-rw-r--r--  2.0 unx     1092 b- defN 23-Jul-24 15:19 odoo/addons/stock_warehouse_flow_release/models/stock_move.py
+-rw-r--r--  2.0 unx      143 b- defN 23-Jul-24 15:19 odoo/addons/stock_warehouse_flow_release/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      174 b- defN 23-Jul-24 15:19 odoo/addons/stock_warehouse_flow_release/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jul-24 15:19 odoo/addons/stock_warehouse_flow_release/static/description/icon.png
+-rw-r--r--  2.0 unx    12617 b- defN 23-Jul-24 15:19 odoo/addons/stock_warehouse_flow_release/static/description/index.html
+-rw-r--r--  2.0 unx       42 b- defN 23-Jul-24 15:19 odoo/addons/stock_warehouse_flow_release/tests/__init__.py
+-rw-r--r--  2.0 unx     3444 b- defN 23-Jul-24 15:19 odoo/addons/stock_warehouse_flow_release/tests/test_warehouse_flow_release.py
+-rw-r--r--  2.0 unx     3904 b- defN 23-Jul-24 15:19 odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-24 15:19 odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jul-24 15:19 odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1886 b- defN 23-Jul-24 15:19 odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0.dist-info/RECORD
+16 files, 37752 bytes uncompressed, 19980 bytes compressed:  47.1%
```

## zipnote {}

```diff
@@ -30,20 +30,20 @@
 
 Filename: odoo/addons/stock_warehouse_flow_release/tests/__init__.py
 Comment: 
 
 Filename: odoo/addons/stock_warehouse_flow_release/tests/test_warehouse_flow_release.py
 Comment: 
 
-Filename: odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2.dist-info/METADATA
+Filename: odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2.dist-info/WHEEL
+Filename: odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2.dist-info/top_level.txt
+Filename: odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2.dist-info/RECORD
+Filename: odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/stock_warehouse_flow_release/README.rst

```diff
@@ -59,14 +59,15 @@
 * BCIM
 
 Contributors
 ~~~~~~~~~~~~
 
 * Sébastien Alix <sebastien.alix@camptocamp.com>
 * Jacques-Etienne Baudoux <je@bcim.be>
+* Michael Tietz (MT Software) <mtietz@mt-software.de>
 
 Maintainers
 ~~~~~~~~~~~
 
 This module is maintained by the OCA.
 
 .. image:: https://odoo-community.org/logo.png
```

## odoo/addons/stock_warehouse_flow_release/__manifest__.py

```diff
@@ -2,15 +2,15 @@
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl)
 {
     "name": "Stock Warehouse Flow (release integration)",
     "summary": "Warehouse flows integrated with Operation Release",
     "author": "Camptocamp, BCIM, Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/wms",
     "category": "Warehouse Management",
-    "version": "14.0.1.0.0",
+    "version": "14.0.2.0.0",
     "license": "AGPL-3",
     "depends": [
         # OCA/wms
         "stock_warehouse_flow",
         "stock_available_to_promise_release",
     ],
     "data": [],
```

## odoo/addons/stock_warehouse_flow_release/models/stock_move.py

```diff
@@ -1,8 +1,9 @@
 # Copyright 2022 Camptocamp SA
+# Copyright 2023 Michael Tietz (MT Software) <mtietz@mt-software.de>
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl)
 
 from odoo import models
 
 
 class StockMove(models.Model):
     _inherit = "stock.move"
@@ -13,10 +14,15 @@
         if self.rule_id.route_id.available_to_promise_defer_pull:
             return False
         return super()._apply_flow_on_action_confirm()
 
     def _before_release(self):
         # Apply the flow when releasing the move
         super()._before_release()
+        FLOW = self.env["stock.warehouse.flow"]
+        move_ids_to_release = []
         for move in self:
-            flow = self.env["stock.warehouse.flow"]._search_for_move(move)
-            flow._apply_on_move(move)
+            _move_ids_to_release = FLOW._search_and_apply_for_move(move).ids
+            _move_ids_to_release.remove(move.id)
+            move_ids_to_release += _move_ids_to_release
+        if move_ids_to_release:
+            self.browse(move_ids_to_release).release_available_to_promise()
```

## odoo/addons/stock_warehouse_flow_release/readme/CONTRIBUTORS.rst

```diff
@@ -1,2 +1,3 @@
 * Sébastien Alix <sebastien.alix@camptocamp.com>
 * Jacques-Etienne Baudoux <je@bcim.be>
+* Michael Tietz (MT Software) <mtietz@mt-software.de>
```

## odoo/addons/stock_warehouse_flow_release/static/description/index.html

### odoo/addons/stock_warehouse_flow_release/static/description/index.html

```diff
@@ -460,14 +460,19 @@
               &gt;
             </li>
             <li>
               Jacques-Etienne Baudoux &lt;
               <a class="reference external" href="mailto:je@bcim.be">je@bcim.be</a>
               &gt;
             </li>
+            <li>
+              Michael Tietz (MT Software) &lt;
+              <a class="reference external" href="mailto:mtietz@mt-software.de">mtietz@mt-software.de</a>
+              &gt;
+            </li>
           </ul>
         </div>
         <div class="section" id="maintainers">
           <h2>
             <a class="toc-backref" href="#id5">Maintainers</a>
           </h2>
           <p>This module is maintained by the OCA.</p>
```

## odoo/addons/stock_warehouse_flow_release/tests/test_warehouse_flow_release.py

```diff
@@ -1,8 +1,9 @@
 # Copyright 2022 Camptocamp SA
+# Copyright 2023 Michael Tietz (MT Software) <mtietz@mt-software.de>
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl)
 
 from odoo.addons.stock_warehouse_flow.tests import common
 
 
 class TestWarehouseFlowRelease(common.CommonFlow):
     @classmethod
@@ -51,7 +52,26 @@
         self.assertTrue(move_pick)
         move_pick.picking_id.action_assign()
         self.assertEqual(move_pick.state, "assigned")
         self._validate_picking(move_pick.picking_id)
         self.assertEqual(move_pick.state, "done")
         self.assertEqual(move_ship.state, "assigned")
         self._validate_picking(move_ship.picking_id)
+
+    def test_flow_split_release(self):
+        pick_flow = self._get_flow("pick_ship")
+        ship_flow = self._get_flow("ship_only")
+        flows = pick_flow | ship_flow
+        self._prepare_split_test()
+        move = self._run_split_flow()
+        self.assertEqual(len(move), 1)
+        self.assertTrue(move.need_release)
+        self.assertTrue(move.picking_type_id not in flows.to_picking_type_id)
+        moves_before = self.env["stock.move"].search([])
+        move.picking_id.release_available_to_promise()
+        moves_after = self.env["stock.move"].search([])
+        moves = moves_after - moves_before
+        moves = move | moves
+        self.assertEqual(moves.mapped("product_qty"), [4, 1, 4])
+        self.assertEqual(
+            moves.mapped("picking_type_id.code"), ["outgoing", "outgoing", "internal"]
+        )
```

## Comparing `odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2.dist-info/METADATA` & `odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0.dist-info/METADATA`

 * *Files 7% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-stock-warehouse-flow-release
-Version: 14.0.1.0.1.dev2
+Version: 14.0.2.0.0
 Summary: Warehouse flows integrated with Operation Release
 Home-page: https://github.com/OCA/wms
 Author: Camptocamp, BCIM, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
@@ -78,14 +78,15 @@
 * BCIM
 
 Contributors
 ~~~~~~~~~~~~
 
 * Sébastien Alix <sebastien.alix@camptocamp.com>
 * Jacques-Etienne Baudoux <je@bcim.be>
+* Michael Tietz (MT Software) <mtietz@mt-software.de>
 
 Maintainers
 ~~~~~~~~~~~
 
 This module is maintained by the OCA.
 
 .. image:: https://odoo-community.org/logo.png
```

## Comparing `odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2.dist-info/RECORD` & `odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0.dist-info/RECORD`

 * *Files 14% similar despite different names*

```diff
@@ -1,16 +1,16 @@
-odoo/addons/stock_warehouse_flow_release/README.rst,sha256=E_tr4eVVVPQSt_16zqZKRsl0jB7HsmIVu088Sl90bYE,3121
+odoo/addons/stock_warehouse_flow_release/README.rst,sha256=_CK2Mfp4ogyYkFG8UDyjbHXmpzh8-SbcWZpVdMk8Td4,3175
 odoo/addons/stock_warehouse_flow_release/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/stock_warehouse_flow_release/__manifest__.py,sha256=mnKAFx9KQclkxkQAoOeEg9jMzNG4S9yLgOoyqAOfSAE,653
+odoo/addons/stock_warehouse_flow_release/__manifest__.py,sha256=Yt4FdfpqUAac2qNaBShr3mLgiuudjTu9DXfL-TGQmo4,653
 odoo/addons/stock_warehouse_flow_release/i18n/stock_warehouse_flow_release.pot,sha256=dTJDBlHPhuTGGbESSbxs5tCh-VwIpQGBswKmzTiOmBo,1024
 odoo/addons/stock_warehouse_flow_release/models/__init__.py,sha256=JKM5aPOIm-dfz_sqkWHanPuPoSBKjGtEp6aHsgkacuQ,25
-odoo/addons/stock_warehouse_flow_release/models/stock_move.py,sha256=Y1bFoc2Fsjr3hSIH86udFMy43ibSrDfixvUBBQm5XIo,765
-odoo/addons/stock_warehouse_flow_release/readme/CONTRIBUTORS.rst,sha256=P7DhF8R_d_QaQyKcY8FPmwxFzGIK9HnBcopqgT5Ox5Y,89
+odoo/addons/stock_warehouse_flow_release/models/stock_move.py,sha256=4tVdMLOtPWz7IkCbl9KChXv6QihGgHvqxjg4nTGkXsM,1092
+odoo/addons/stock_warehouse_flow_release/readme/CONTRIBUTORS.rst,sha256=VhJodoi-hQ9pdfpaEzmqGUtxUiMhBDxfPl9VVlU2QSE,143
 odoo/addons/stock_warehouse_flow_release/readme/DESCRIPTION.rst,sha256=7uHB3f9f5bOz8k3g1PWYbB9UioN1p0sixj3u3yNh1Yo,174
 odoo/addons/stock_warehouse_flow_release/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
-odoo/addons/stock_warehouse_flow_release/static/description/index.html,sha256=MiV0JQvyNcciWuMAr9pjyPX2f4eR0YLwVhoj3iujNFU,12472
+odoo/addons/stock_warehouse_flow_release/static/description/index.html,sha256=D8-WyNwqZ1LZ4Ysl1OHos_ggOA2gUt9Hj4HCGdGeL7Y,12617
 odoo/addons/stock_warehouse_flow_release/tests/__init__.py,sha256=8FLls6aZgtK6vVuVCLs4yVAJ7OvZ0OM2P8bXj968wTw,42
-odoo/addons/stock_warehouse_flow_release/tests/test_warehouse_flow_release.py,sha256=X4CqR66b6OQFCRa5sqMcRxPWtgOG6Ex4dSVqnqnM9AY,2540
-odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2.dist-info/METADATA,sha256=3pKM4_QQXiHUDCUzK42grvlKIXqxyLmbtg58YzXlT5I,3855
-odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_stock_warehouse_flow_release-14.0.1.0.1.dev2.dist-info/RECORD,,
+odoo/addons/stock_warehouse_flow_release/tests/test_warehouse_flow_release.py,sha256=HHjILpZyouZnrqtSU_HJ27MFfdMSYkMPyIBoltrafmU,3444
+odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0.dist-info/METADATA,sha256=Z-QcLMureWI0p80NJcCLoPTm5mTDgkB7hxrWetzeUy8,3904
+odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_stock_warehouse_flow_release-14.0.2.0.0.dist-info/RECORD,,
```

