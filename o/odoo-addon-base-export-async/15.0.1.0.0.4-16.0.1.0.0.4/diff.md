# Comparing `tmp/odoo_addon_base_export_async-15.0.1.0.0.4-py3-none-any.whl.zip` & `tmp/odoo_addon_base_export_async-16.0.1.0.0.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,32 +1,33 @@
-Zip file size: 38709 bytes, number of entries: 30
--rw-r--r--  2.0 unx     2951 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/README.rst
--rw-r--r--  2.0 unx      116 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/__init__.py
--rw-r--r--  2.0 unx      842 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/__manifest__.py
--rw-r--r--  2.0 unx      230 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/data/config_parameter.xml
--rw-r--r--  2.0 unx      480 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/data/cron.xml
--rw-r--r--  2.0 unx      993 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/data/mail_template.xml
--rw-r--r--  2.0 unx     4336 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/i18n/base_export_async.pot
--rw-r--r--  2.0 unx     5751 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/i18n/da.po
--rw-r--r--  2.0 unx     6033 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/i18n/de.po
--rw-r--r--  2.0 unx     5837 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/i18n/fr.po
--rw-r--r--  2.0 unx     4415 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/i18n/it.po
--rw-r--r--  2.0 unx     5825 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/i18n/pt.po
--rw-r--r--  2.0 unx     5848 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/i18n/zh_CN.po
--rw-r--r--  2.0 unx      122 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/models/__init__.py
--rw-r--r--  2.0 unx     4955 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/models/delay_export.py
--rw-r--r--  2.0 unx       95 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      115 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      249 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/readme/USAGE.rst
--rw-r--r--  2.0 unx      246 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/security/ir.model.access.csv
--rw-r--r--  2.0 unx      603 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/security/ir_rule.xml
--rw-r--r--  2.0 unx     9455 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/static/description/icon.png
--rw-r--r--  2.0 unx    12154 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/static/description/index.html
--rw-r--r--  2.0 unx     2811 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/static/src/js/data_export.js
--rw-r--r--  2.0 unx      647 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/static/src/xml/base.xml
--rw-r--r--  2.0 unx      132 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/tests/__init__.py
--rw-r--r--  2.0 unx     3866 b- defN 23-Jul-01 04:44 odoo/addons/base_export_async/tests/test_base_export_async.py
--rw-r--r--  2.0 unx     3553 b- defN 23-Jul-01 04:45 odoo_addon_base_export_async-15.0.1.0.0.4.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jul-01 04:45 odoo_addon_base_export_async-15.0.1.0.0.4.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jul-01 04:45 odoo_addon_base_export_async-15.0.1.0.0.4.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     3147 b- defN 23-Jul-01 04:45 odoo_addon_base_export_async-15.0.1.0.0.4.dist-info/RECORD
-30 files, 85904 bytes uncompressed, 33389 bytes compressed:  61.1%
+Zip file size: 39490 bytes, number of entries: 31
+-rw-r--r--  2.0 unx     2951 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/README.rst
+-rw-r--r--  2.0 unx      116 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/__init__.py
+-rw-r--r--  2.0 unx      876 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/__manifest__.py
+-rw-r--r--  2.0 unx      230 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/data/config_parameter.xml
+-rw-r--r--  2.0 unx      480 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/data/cron.xml
+-rw-r--r--  2.0 unx      993 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/data/mail_template.xml
+-rw-r--r--  2.0 unx     4342 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/i18n/base_export_async.pot
+-rw-r--r--  2.0 unx     5751 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/i18n/da.po
+-rw-r--r--  2.0 unx     6033 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/i18n/de.po
+-rw-r--r--  2.0 unx     5837 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/i18n/fr.po
+-rw-r--r--  2.0 unx     4415 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/i18n/it.po
+-rw-r--r--  2.0 unx     5825 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/i18n/pt.po
+-rw-r--r--  2.0 unx     5848 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/i18n/zh_CN.po
+-rw-r--r--  2.0 unx      122 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/models/__init__.py
+-rw-r--r--  2.0 unx     4956 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/models/delay_export.py
+-rw-r--r--  2.0 unx       95 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      115 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      249 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/readme/USAGE.rst
+-rw-r--r--  2.0 unx      246 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/security/ir.model.access.csv
+-rw-r--r--  2.0 unx      603 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/security/ir_rule.xml
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/static/description/icon.png
+-rw-r--r--  2.0 unx    12154 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/static/description/index.html
+-rw-r--r--  2.0 unx      871 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/static/src/js/data_export.esm.js
+-rw-r--r--  2.0 unx     2615 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/static/src/js/list_controller.esm.js
+-rw-r--r--  2.0 unx      582 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/static/src/xml/base.xml
+-rw-r--r--  2.0 unx      132 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/tests/__init__.py
+-rw-r--r--  2.0 unx     4060 b- defN 23-Jul-24 08:31 odoo/addons/base_export_async/tests/test_base_export_async.py
+-rw-r--r--  2.0 unx     3554 b- defN 23-Jul-24 08:31 odoo_addon_base_export_async-16.0.1.0.0.4.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-24 08:31 odoo_addon_base_export_async-16.0.1.0.0.4.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jul-24 08:31 odoo_addon_base_export_async-16.0.1.0.0.4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3273 b- defN 23-Jul-24 08:31 odoo_addon_base_export_async-16.0.1.0.0.4.dist-info/RECORD
+31 files, 86876 bytes uncompressed, 33954 bytes compressed:  60.9%
```

## zipnote {}

```diff
@@ -60,32 +60,35 @@
 
 Filename: odoo/addons/base_export_async/static/description/icon.png
 Comment: 
 
 Filename: odoo/addons/base_export_async/static/description/index.html
 Comment: 
 
-Filename: odoo/addons/base_export_async/static/src/js/data_export.js
+Filename: odoo/addons/base_export_async/static/src/js/data_export.esm.js
+Comment: 
+
+Filename: odoo/addons/base_export_async/static/src/js/list_controller.esm.js
 Comment: 
 
 Filename: odoo/addons/base_export_async/static/src/xml/base.xml
 Comment: 
 
 Filename: odoo/addons/base_export_async/tests/__init__.py
 Comment: 
 
 Filename: odoo/addons/base_export_async/tests/test_base_export_async.py
 Comment: 
 
-Filename: odoo_addon_base_export_async-15.0.1.0.0.4.dist-info/METADATA
+Filename: odoo_addon_base_export_async-16.0.1.0.0.4.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_base_export_async-15.0.1.0.0.4.dist-info/WHEEL
+Filename: odoo_addon_base_export_async-16.0.1.0.0.4.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_base_export_async-15.0.1.0.0.4.dist-info/top_level.txt
+Filename: odoo_addon_base_export_async-16.0.1.0.0.4.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_base_export_async-15.0.1.0.0.4.dist-info/RECORD
+Filename: odoo_addon_base_export_async-16.0.1.0.0.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/base_export_async/README.rst

```diff
@@ -10,21 +10,21 @@
 .. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
     :target: https://odoo-community.org/page/development-status
     :alt: Beta
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fqueue-lightgray.png?logo=github
-    :target: https://github.com/OCA/queue/tree/15.0/base_export_async
+    :target: https://github.com/OCA/queue/tree/16.0/base_export_async
     :alt: OCA/queue
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/queue-15-0/queue-15-0-base_export_async
+    :target: https://translation.odoo-community.org/projects/queue-16-0/queue-16-0-base_export_async
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
-    :target: https://runbot.odoo-community.org/runbot/230/15.0
+    :target: https://runbot.odoo-community.org/runbot/230/16.0
     :alt: Try me on Runbot
 
 |badge1| |badge2| |badge3| |badge4| |badge5| 
 
 Standard Export can be delayed in asynchronous jobs executed in the background and then send by email to the user.
 
 **Table of contents**
@@ -44,15 +44,15 @@
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/queue/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/queue/issues/new?body=module:%20base_export_async%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/queue/issues/new?body=module:%20base_export_async%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
@@ -75,10 +75,10 @@
    :alt: Odoo Community Association
    :target: https://odoo-community.org
 
 OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.
 
-This module is part of the `OCA/queue <https://github.com/OCA/queue/tree/15.0/base_export_async>`_ project on GitHub.
+This module is part of the `OCA/queue <https://github.com/OCA/queue/tree/16.0/base_export_async>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## odoo/addons/base_export_async/__manifest__.py

```diff
@@ -1,29 +1,28 @@
 # Copyright 2019 ACSONE SA/NV
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 {
     "name": "Base Export Async",
     "summary": "Asynchronous export with job queue",
-    "version": "15.0.1.0.0",
+    "version": "16.0.1.0.0",
     "license": "AGPL-3",
     "author": "ACSONE SA/NV, Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/queue",
     "depends": ["web", "queue_job"],
     "data": [
         "security/ir.model.access.csv",
         "security/ir_rule.xml",
         "data/config_parameter.xml",
         "data/cron.xml",
         "data/mail_template.xml",
     ],
     "demo": [],
     "assets": {
-        "web.assets_qweb": [
-            "base_export_async/static/src/xml/base.xml",
-        ],
         "web.assets_backend": [
-            "base_export_async/static/src/js/data_export.js",
+            "base_export_async/static/src/xml/base.xml",
+            "base_export_async/static/src/js/list_controller.esm.js",
+            "base_export_async/static/src/js/data_export.esm.js",
         ],
     },
     "installable": True,
 }
```

## odoo/addons/base_export_async/i18n/base_export_async.pot

```diff
@@ -1,48 +1,48 @@
 # Translation of Odoo Server.
 # This file contains the translation of the following modules:
 # 	* base_export_async
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: Odoo Server 15.0\n"
+"Project-Id-Version: Odoo Server 16.0\n"
 "Report-Msgid-Bugs-To: \n"
 "Last-Translator: \n"
 "Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: \n"
 "Plural-Forms: \n"
 
 #. module: base_export_async
-#. openerp-web
+#. odoo-javascript
 #: code:addons/base_export_async/static/src/xml/base.xml:0
 #, python-format
 msgid "(You will receive the export by email)"
 msgstr ""
 
 #. module: base_export_async
 #: model:mail.template,body_html:base_export_async.delay_export_mail_template
 msgid ""
 "<p>Your export is available <a t-attf-href=\"{{ object.url }}\" target=\"_blank\">here</a>.</p>\n"
-"            <p>It will be automatically deleted the <t t-out=\"object.expiration_date\"/>.</p>\n"
-"            <br/>\n"
+"            <p>It will be automatically deleted the <t t-out=\"object.expiration_date\"></t>.</p>\n"
+"            <br>\n"
 "            <p>\n"
 "                <span style=\"color: #808080;\">This is an automated message please do not reply.</span>\n"
 "            </p>\n"
 "        "
 msgstr ""
 
 #. module: base_export_async
 #: model:ir.model,name:base_export_async.model_delay_export
 msgid "Asynchronous Export"
 msgstr ""
 
 #. module: base_export_async
-#. openerp-web
+#. odoo-javascript
 #: code:addons/base_export_async/static/src/xml/base.xml:0
 #, python-format
 msgid "Asynchronous export"
 msgstr ""
 
 #. module: base_export_async
 #: model:ir.model.fields,field_description:base_export_async.field_delay_export__create_uid
@@ -58,15 +58,14 @@
 #: model:mail.template,name:base_export_async.delay_export_mail_template
 msgid "Delay Export"
 msgstr ""
 
 #. module: base_export_async
 #: model:ir.actions.server,name:base_export_async.to_delete_attachment_ir_actions_server
 #: model:ir.cron,cron_name:base_export_async.to_delete_attachment
-#: model:ir.cron,name:base_export_async.to_delete_attachment
 msgid "Delete Generated Exports"
 msgstr ""
 
 #. module: base_export_async
 #: model:ir.model.fields,field_description:base_export_async.field_delay_export__display_name
 msgid "Display Name"
 msgstr ""
@@ -78,16 +77,16 @@
 
 #. module: base_export_async
 #: model:mail.template,subject:base_export_async.delay_export_mail_template
 msgid "Export {{ object.model_description }} {{ datetime.date.today() }}"
 msgstr ""
 
 #. module: base_export_async
-#. openerp-web
-#: code:addons/base_export_async/static/src/js/data_export.js:0
+#. odoo-javascript
+#: code:addons/base_export_async/static/src/js/list_controller.esm.js:0
 #, python-format
 msgid "External ID"
 msgstr ""
 
 #. module: base_export_async
 #: model:ir.model.fields,field_description:base_export_async.field_delay_export__id
 msgid "ID"
@@ -110,35 +109,36 @@
 
 #. module: base_export_async
 #: model:ir.model.fields,field_description:base_export_async.field_delay_export__model_description
 msgid "Model Description"
 msgstr ""
 
 #. module: base_export_async
-#. openerp-web
-#: code:addons/base_export_async/static/src/js/data_export.js:0
+#. odoo-javascript
+#: code:addons/base_export_async/static/src/js/data_export.esm.js:0
 #, python-format
-msgid "Please select fields to export..."
+msgid "Please select fields to save export list..."
 msgstr ""
 
 #. module: base_export_async
 #: model:ir.model.fields,field_description:base_export_async.field_delay_export__url
 msgid "Url"
 msgstr ""
 
 #. module: base_export_async
 #: model:ir.model.fields,field_description:base_export_async.field_delay_export__user_ids
 msgid "Users"
 msgstr ""
 
 #. module: base_export_async
+#. odoo-python
 #: code:addons/base_export_async/models/delay_export.py:0
 #, python-format
 msgid "You must set an email address to your user."
 msgstr ""
 
 #. module: base_export_async
-#. openerp-web
-#: code:addons/base_export_async/static/src/js/data_export.js:0
+#. odoo-javascript
+#: code:addons/base_export_async/static/src/js/list_controller.esm.js:0
 #, python-format
 msgid "You will receive the export file by email as soon as it is finished."
 msgstr ""
```

## odoo/addons/base_export_async/models/delay_export.py

```diff
@@ -6,19 +6,18 @@
 import operator
 
 from dateutil.relativedelta import relativedelta
 
 from odoo import _, api, fields, models
 from odoo.exceptions import UserError
 
-from odoo.addons.web.controllers.main import CSVExport, ExcelExport
+from odoo.addons.web.controllers.export import CSVExport, ExcelExport
 
 
 class DelayExport(models.Model):
-
     _name = "delay.export"
     _description = "Asynchronous Export"
 
     user_ids = fields.Many2many("res.users", string="Users", index=True)
     model_description = fields.Char()
     url = fields.Char()
     expiration_date = fields.Date()
```

## odoo/addons/base_export_async/static/description/index.html

### odoo/addons/base_export_async/static/description/index.html

```diff
@@ -367,21 +367,21 @@
       <p>
         <a class="reference external" href="https://odoo-community.org/page/development-status">
           <img alt="Beta" src="https://img.shields.io/badge/maturity-Beta-yellow.png"/>
         </a>
         <a class="reference external" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html">
           <img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png"/>
         </a>
-        <a class="reference external" href="https://github.com/OCA/queue/tree/15.0/base_export_async">
+        <a class="reference external" href="https://github.com/OCA/queue/tree/16.0/base_export_async">
           <img alt="OCA/queue" src="https://img.shields.io/badge/github-OCA%2Fqueue-lightgray.png?logo=github"/>
         </a>
-        <a class="reference external" href="https://translation.odoo-community.org/projects/queue-15-0/queue-15-0-base_export_async">
+        <a class="reference external" href="https://translation.odoo-community.org/projects/queue-16-0/queue-16-0-base_export_async">
           <img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png"/>
         </a>
-        <a class="reference external" href="https://runbot.odoo-community.org/runbot/230/15.0">
+        <a class="reference external" href="https://runbot.odoo-community.org/runbot/230/16.0">
           <img alt="Try me on Runbot" src="https://img.shields.io/badge/runbot-Try%20me-875A7B.png"/>
         </a>
       </p>
       <p>Standard Export can be delayed in asynchronous jobs executed in the background and then send by email to the user.</p>
       <p>
         <strong>Table of contents</strong>
       </p>
@@ -425,15 +425,15 @@
         </h1>
         <p>
           Bugs are tracked on
           <a class="reference external" href="https://github.com/OCA/queue/issues">GitHub Issues</a>
           .
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-          <a class="reference external" href="https://github.com/OCA/queue/issues/new?body=module:%20base_export_async%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>
+          <a class="reference external" href="https://github.com/OCA/queue/issues/new?body=module:%20base_export_async%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>
           .
         </p>
         <p>Do not contact contributors directly about support or help with technical issues.</p>
       </div>
       <div class="section" id="credits">
         <h1>
           <a class="toc-backref" href="#id3">Credits</a>
@@ -464,15 +464,15 @@
             <img alt="Odoo Community Association" src="https://odoo-community.org/logo.png"/>
           </a>
           <p>OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.</p>
           <p>
             This module is part of the
-            <a class="reference external" href="https://github.com/OCA/queue/tree/15.0/base_export_async">OCA/queue</a>
+            <a class="reference external" href="https://github.com/OCA/queue/tree/16.0/base_export_async">OCA/queue</a>
             project on GitHub.
           </p>
           <p>
             You are welcome to contribute. To learn how please visit
             <a class="reference external" href="https://odoo-community.org/page/Contribute">https://odoo-community.org/page/Contribute</a>
             .
           </p>
```

## odoo/addons/base_export_async/static/src/xml/base.xml

### odoo/addons/base_export_async/static/src/xml/base.xml

```diff
@@ -1,14 +1,11 @@
 <?xml version="1.0" encoding="utf-8"?>
-<templates id="template" xml:space="preserve">
-  <t t-extend="ExportDialog">
-    <t t-jquery="div.o_import_compat" t-operation="after">
-      <div class="form-check">
-        <input class="form-check-input" id="async_export" type="checkbox" name="async_export"/>
-        <label class="form-check-label" for="async_export">
-          <strong>Asynchronous export</strong>
-          (You will receive the export by email)
-        </label>
-      </div>
-    </t>
+<templates xml:space="preserve">
+  <t t-name="base_export_async.ExportDataDialogAsync" t-inherit="web.ExportDataDialog" t-inherit-mode="extension">
+    <xpath expr="//div[hasclass('o_import_compat')]" position="after">
+      <CheckBox id="async_export" value="state.async" onChange.bind="onToggleExportAsync">
+        <strong>Asynchronous export</strong>
+        (You will receive the export by email)
+      </CheckBox>
+    </xpath>
   </t>
 </templates>
```

## odoo/addons/base_export_async/tests/test_base_export_async.py

```diff
@@ -1,19 +1,21 @@
 # Copyright 2019 ACSONE SA/NV
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 import json
 from unittest import mock
+from unittest.mock import patch
 
 import freezegun
 from dateutil.relativedelta import relativedelta
 
 import odoo.tests.common as common
 from odoo import fields
-from odoo.http import _request_stack
+
+from odoo.addons.web.controllers.export import ExcelExport
 
 data_csv = {
     "data": """{"format": "csv", "model": "res.partner",
             "fields": [{"name": "id", "label": "External ID"},
                     {"name": "display_name", "label": "Display Name"},
                     {"name": "email", "label": "Email"},
                     {"name": "phone", "label": "Phone"}],
@@ -38,23 +40,21 @@
             "user_ids": [2]
             }"""
 }
 
 
 class TestBaseExportAsync(common.TransactionCase):
     def setUp(self):
-        super(TestBaseExportAsync, self).setUp()
+        super().setUp()
         self.delay_export_obj = self.env["delay.export"]
         self.job_obj = self.env["queue.job"]
-        _request_stack.push(
-            mock.Mock(
-                env=self.env,
-            )
-        )
-        self.addCleanup(_request_stack.pop)
+        with patch("odoo.http._request_stack") as mock_request_stack:
+            mock_request = mock.Mock(env=self.env)
+            mock_request_stack.push(mock_request)
+            self.addCleanup(mock_request_stack.pop)
 
     def test_delay_export(self):
         """Check that the call create a new JOB"""
         nbr_job = len(self.job_obj.search([]))
         self.delay_export_obj.delay_export(data_csv)
         new_nbr_job = len(self.job_obj.search([]))
         self.assertEqual(new_nbr_job, nbr_job + 1)
@@ -71,15 +71,16 @@
         self.assertEqual(new_attachment.name, "res.partner.csv")
 
     def test_export_xls(self):
         """Check that the export generate an attachment and email"""
         params = json.loads(data_xls.get("data"))
         mails = self.env["mail.mail"].search([])
         attachments = self.env["ir.attachment"].search([])
-        self.delay_export_obj.export(params)
+        with patch.object(ExcelExport, "from_data", return_value=b"\x41\x42\x43\x44"):
+            self.delay_export_obj.export(params)
         new_mail = self.env["mail.mail"].search([]) - mails
         new_attachment = self.env["ir.attachment"].search([]) - attachments
         self.assertEqual(len(new_mail), 1)
         self.assertEqual(new_attachment.name, "res.partner.xls")
 
     def test_cron_delete(self):
         """Check that cron delete attachment after TTL"""
```

## Comparing `odoo/addons/base_export_async/static/src/js/data_export.js` & `odoo/addons/base_export_async/static/src/js/list_controller.esm.js`

 * *Files 22% similar despite different names*

### js-beautify {}

```diff
@@ -1,75 +1,85 @@
-odoo.define("base_export_async.DataExport", function(require) {
-    "use strict";
+/** @odoo-module **/
 
-    var core = require("web.core");
-    var DataExport = require("web.DataExport");
-    var framework = require("web.framework");
-    var pyUtils = require("web.py_utils");
-    var Dialog = require("web.Dialog");
-    var _t = core._t;
+import {
+    blockUI,
+    unblockUI
+} from "web.framework";
 
-    DataExport.include({
-        /*
-            Overwritten Object responsible for the standard export.
-            A flag (checkbox) Async is added and if checked, call the
-            delay export instead of the standard export.
-        */
-        start: function() {
-            this._super.apply(this, arguments);
-            this.async = this.$("#async_export");
-        },
-        _exportData(exportedFields, exportFormat, idsToExport) {
-            if (this.async && this.async.is(":checked")) {
-                /*
-                    Checks from the standard method
-                */
-                if (_.isEmpty(exportedFields)) {
-                    Dialog.alert(this, _t("Please select fields to export..."));
-                    return;
-                }
-                if (this.isCompatibleMode) {
-                    exportedFields.unshift({
-                        name: "id",
-                        label: _t("External ID")
-                    });
-                }
+import Dialog from "web.Dialog";
+import {
+    ListController
+} from "@web/views/list/list_controller";
+import {
+    _t
+} from "web.core";
+import {
+    download
+} from "@web/core/network/download";
+import {
+    patch
+} from "@web/core/utils/patch";
 
-                /*
-                    Call the delay export if Async is checked
-                */
-                framework.blockUI();
-                this._rpc({
-                    model: "delay.export",
-                    method: "delay_export",
-                    args: [{
-                        data: JSON.stringify({
-                            format: exportFormat,
-                            model: this.record.model,
-                            fields: exportedFields,
-                            ids: idsToExport,
-                            domain: this.domain,
-                            context: pyUtils.eval("contexts", [
-                                this.record.getContext(),
-                            ]),
-                            import_compat: this.isCompatibleMode,
-                            user_ids: [this.record.context.uid],
-                        }),
-                    }, ],
-                }).then(function() {
-                    framework.unblockUI();
-                    Dialog.alert(
-                        this,
-                        _t(
-                            "You will receive the export file by email as soon as it is finished."
-                        )
-                    );
-                });
-            } else {
-                /*
-                    Call the standard method if Async is not checked
-                */
-                this._super.apply(this, arguments);
-            }
-        },
-    });
+patch(ListController.prototype, "base_export_async", {
+    async downloadExport(fields, import_compat, format, async = false) {
+        let ids = false;
+        if (!this.isDomainSelected) {
+            const resIds = await this.getSelectedResIds();
+            ids = resIds.length > 0 && resIds;
+        }
+        const exportedFields = fields.map((field) => ({
+            name: field.name || field.id,
+            label: field.label || field.string,
+            store: field.store,
+            type: field.field_type || field.type,
+        }));
+        if (import_compat) {
+            exportedFields.unshift({
+                name: "id",
+                label: this.env._t("External ID")
+            });
+        }
+        if (async) {
+            /*
+                Call the delay export if Async is checked
+            */
+            blockUI();
+            const args = [{
+                data: JSON.stringify({
+                    format: format,
+                    model: this.model.root.resModel,
+                    fields: exportedFields,
+                    ids: ids,
+                    domain: this.model.root.domain,
+                    context: this.props.context,
+                    import_compat: import_compat,
+                    user_ids: [this.props.context.uid],
+                }),
+            }, ];
+            const orm = this.env.services.orm;
+            orm.call("delay.export", "delay_export", args).then(function() {
+                unblockUI();
+                Dialog.alert(
+                    this,
+                    _t(
+                        "You will receive the export file by email as soon as it is finished."
+                    )
+                );
+            });
+        } else {
+            await download({
+                data: {
+                    data: JSON.stringify({
+                        import_compat,
+                        context: this.props.context,
+                        domain: this.model.root.domain,
+                        fields: exportedFields,
+                        groupby: this.model.root.groupBy,
+                        ids,
+                        model: this.model.root.resModel,
+                    }),
+                },
+                url: `/web/export/${format}`,
+            });
+        }
+    },
 });
```

## Comparing `odoo_addon_base_export_async-15.0.1.0.0.4.dist-info/METADATA` & `odoo_addon_base_export_async-16.0.1.0.0.4.dist-info/METADATA`

 * *Files 4% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 Metadata-Version: 2.1
 Name: odoo-addon-base-export-async
-Version: 15.0.1.0.0.4
+Version: 16.0.1.0.0.4
 Summary: Asynchronous export with job queue
 Home-page: https://github.com/OCA/queue
 Author: ACSONE SA/NV, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
-Classifier: Framework :: Odoo :: 15.0
+Classifier: Framework :: Odoo :: 16.0
 Classifier: License :: OSI Approved :: GNU Affero General Public License v3
-Requires-Python: >=3.8
-Requires-Dist: odoo-addon-queue-job (<15.1dev,>=15.0dev)
-Requires-Dist: odoo (<15.1dev,>=15.0a)
+Requires-Python: >=3.10
+Requires-Dist: odoo-addon-queue-job (<16.1dev,>=16.0dev)
+Requires-Dist: odoo (<16.1dev,>=16.0a)
 
 =================
 Base Export Async
 =================
 
 .. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    !! This file is generated by oca-gen-addon-readme !!
@@ -27,21 +27,21 @@
 .. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
     :target: https://odoo-community.org/page/development-status
     :alt: Beta
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fqueue-lightgray.png?logo=github
-    :target: https://github.com/OCA/queue/tree/15.0/base_export_async
+    :target: https://github.com/OCA/queue/tree/16.0/base_export_async
     :alt: OCA/queue
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/queue-15-0/queue-15-0-base_export_async
+    :target: https://translation.odoo-community.org/projects/queue-16-0/queue-16-0-base_export_async
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
-    :target: https://runbot.odoo-community.org/runbot/230/15.0
+    :target: https://runbot.odoo-community.org/runbot/230/16.0
     :alt: Try me on Runbot
 
 |badge1| |badge2| |badge3| |badge4| |badge5| 
 
 Standard Export can be delayed in asynchronous jobs executed in the background and then send by email to the user.
 
 **Table of contents**
@@ -61,15 +61,15 @@
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/queue/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/queue/issues/new?body=module:%20base_export_async%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/queue/issues/new?body=module:%20base_export_async%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
@@ -92,12 +92,12 @@
    :alt: Odoo Community Association
    :target: https://odoo-community.org
 
 OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.
 
-This module is part of the `OCA/queue <https://github.com/OCA/queue/tree/15.0/base_export_async>`_ project on GitHub.
+This module is part of the `OCA/queue <https://github.com/OCA/queue/tree/16.0/base_export_async>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## Comparing `odoo_addon_base_export_async-15.0.1.0.0.4.dist-info/RECORD` & `odoo_addon_base_export_async-16.0.1.0.0.4.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -1,30 +1,31 @@
-odoo/addons/base_export_async/README.rst,sha256=cGhLdqA0r8oOt9WX2N1JWJ2cTbnCTnvIvXWFmYOuOZI,2951
+odoo/addons/base_export_async/README.rst,sha256=GIUCvTXu6dl034_rcdVEBzeZmgt4HjECny9Tnl63t1g,2951
 odoo/addons/base_export_async/__init__.py,sha256=fNa-TTBJ28GGRz041HYN3mjfgu2zRWiax61xqIVKmV0,116
-odoo/addons/base_export_async/__manifest__.py,sha256=FzQ5r2E0i4EUzgh21FUVmwIY4tyNES46k9JozvHoHqY,842
+odoo/addons/base_export_async/__manifest__.py,sha256=VX0W2AS0MO0LZsU_0zE30_ngbVH0whFC7Fhyirl826I,876
 odoo/addons/base_export_async/data/config_parameter.xml,sha256=0dvhv0udgHO6N0SNlrREgxaHyeBzWk8aCTFBjJDbES0,230
 odoo/addons/base_export_async/data/cron.xml,sha256=Iy6kYYXti2Jx2fEmAOmtJyU5QFDNyJXFZWjhKSusKjY,480
 odoo/addons/base_export_async/data/mail_template.xml,sha256=kZOiW1aMcQaH5YVDAovztDlxiB7K-GRYsyoO2L5KhYo,993
-odoo/addons/base_export_async/i18n/base_export_async.pot,sha256=r-oI2xTfeGWtIdmvADtJXEQn9fswjhUpVQGV-yweUSw,4336
+odoo/addons/base_export_async/i18n/base_export_async.pot,sha256=W2FIUsFnSbCn59fc28rV9VaKhzKXZiGgwnBjDLPCVEU,4342
 odoo/addons/base_export_async/i18n/da.po,sha256=sBObOqq-UyemiDDloYS3lt769_xbg2wK7lfE34Sn26o,5751
 odoo/addons/base_export_async/i18n/de.po,sha256=W7GmQHge84eFT_RgrW0Y9CVWWAqSQpknYzOV3LkNZe4,6033
 odoo/addons/base_export_async/i18n/fr.po,sha256=F_vkj9WYGi4Gq0qKgrb7AZkEZI3V7Mcvnwz6p63WQ0o,5837
 odoo/addons/base_export_async/i18n/it.po,sha256=6127KmUhPKIci8KgsZR4Nc9w12OjR2pSRaugQzLMKt4,4415
 odoo/addons/base_export_async/i18n/pt.po,sha256=RKCPpq0FNOVVBd4pZ2EIpOuDcnBw444-3mqv98lWBXU,5825
 odoo/addons/base_export_async/i18n/zh_CN.po,sha256=szf1IZZzAecMB7HwUm1T_iNc7BwVgdYc4FHGFv_j1bc,5848
 odoo/addons/base_export_async/models/__init__.py,sha256=5uT5vEd-gUbUsgV0xQfaYjQxhBiysxV6XcSsxoAdi6c,122
-odoo/addons/base_export_async/models/delay_export.py,sha256=LHq0MEIcfaWvd0MwxX9ia6pGOeGZFj6C_Xuq3MD09OM,4955
+odoo/addons/base_export_async/models/delay_export.py,sha256=IBvphgne7DcmSYxRuRzwVqP0LjEW5sREd7KSgZwxDfQ,4956
 odoo/addons/base_export_async/readme/CONTRIBUTORS.rst,sha256=UxPJG5R7-FB5PnmVqStfj6uD50byMJqq5JAhIfaf9bM,95
 odoo/addons/base_export_async/readme/DESCRIPTION.rst,sha256=e8keCGwY6HhPI8K4BKzF9Sv9Tjpzj-OqdZ4i_bfec88,115
 odoo/addons/base_export_async/readme/USAGE.rst,sha256=_eyAP0A1eYmJnp_-ZUjnAy_iNkG8UXj3mWc13pXiU7k,249
 odoo/addons/base_export_async/security/ir.model.access.csv,sha256=QhHUTqK_fQM4IRiqo5NuV9I5zCfVL1peZob71Y-8K-c,246
 odoo/addons/base_export_async/security/ir_rule.xml,sha256=el9MGKcPsoNufa6BJHMB4Ln--WCTkoYn5EHRYri0pfY,603
 odoo/addons/base_export_async/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
-odoo/addons/base_export_async/static/description/index.html,sha256=n3iqD3lgKOixWAH9IKZ7LrU6Hb88KQUWQvUnL-IMHzA,12154
-odoo/addons/base_export_async/static/src/js/data_export.js,sha256=R7KeSDGw1_chTYyhTlgIxQGqlvu7v0Hbw9etRDprW3k,2811
-odoo/addons/base_export_async/static/src/xml/base.xml,sha256=MHBv4UiJAGSsExjK0AE1uXAWSpRhXK9xBOx-qVzTMxI,647
+odoo/addons/base_export_async/static/description/index.html,sha256=-RF5FfEzgBVEkOuogiWXKTJUCExCzYt0mjaD_4Nloog,12154
+odoo/addons/base_export_async/static/src/js/data_export.esm.js,sha256=9oj5mDTC59OOb4sVQTLwYRrIumFuvUCevVF9HEk_NQo,871
+odoo/addons/base_export_async/static/src/js/list_controller.esm.js,sha256=CNVSbBb-ZkTcx5--C4gs8w-N77JzQFRcgRWd2Vyx8fU,2615
+odoo/addons/base_export_async/static/src/xml/base.xml,sha256=T_asoe7pU4bN9PZZHS9IUpDe7odk9rcN7F1wK717srY,582
 odoo/addons/base_export_async/tests/__init__.py,sha256=mi3MZawMOpEH_llRk5Ug_b6AxsxZD9K-bbZVnGcHQQE,132
-odoo/addons/base_export_async/tests/test_base_export_async.py,sha256=YGJ7PMBA382YaXtm1wmvYVlGIUth553Tq49L39JhN5g,3866
-odoo_addon_base_export_async-15.0.1.0.0.4.dist-info/METADATA,sha256=4WzJHEY1jD5DsSuBvTeYng77MNN-9sTc9LRr_B-RP2c,3553
-odoo_addon_base_export_async-15.0.1.0.0.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-odoo_addon_base_export_async-15.0.1.0.0.4.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_base_export_async-15.0.1.0.0.4.dist-info/RECORD,,
+odoo/addons/base_export_async/tests/test_base_export_async.py,sha256=TyQBBWg-4s1K9bWSV9PkKImkDuzJOtkCFkrUgvIGW7E,4060
+odoo_addon_base_export_async-16.0.1.0.0.4.dist-info/METADATA,sha256=xQQ_y2HRifEjHFZvAAPxR_ray1u75OkzbC_tlLYseZk,3554
+odoo_addon_base_export_async-16.0.1.0.0.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo_addon_base_export_async-16.0.1.0.0.4.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_base_export_async-16.0.1.0.0.4.dist-info/RECORD,,
```

